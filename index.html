<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
    <title>Don't Touch Your Face</title>

    <script src="src/index.ts"></script>

    <style>
      body {
        background-color: #586e75;
        color: #fdf6e3;
        font-family: Helvetica, sans-serif;
        font-size: 1.3em;
        position: relative;
        text-align: center;
      }

      a {
        color: #d5d5ee;
        font-weight: bold;
        text-decoration: none;
      }

      body.touching {
        background-color: #cb4b16;
        color: white;
      }

      #header {
        padding-top: 20px;
      }

      #high-score {
        font-size: 1.5em;
        margin-bottom: 2em;
      }

      #high-score-time {
        font-weight: bold;
      }

      #high-score .celebration {
        display: none;
      }

      #high-score.winning .celebration {
        display: inline;
      }

      #webcam {
        height: 480px;
        width: 640px;
      }

      #options {
        margin-bottom: 40px;
      }

      #options strong {
        margin-bottom: 0.8em;
      }

      #debug-panel {
        position: absolute;
        left: 30%;
        top: 200px;
        text-align: left;

        display: none;
      }

      #debug-panel h2,
      #options h2 {
        text-align: center;
      }

      #debug-panel span,
      #options span {
        font-weight: bold;
      }

      #start {
        font-size: 1.5em;
        width: 200px;
        height: 60px;
      }

      #safari-warning {
        background-color: #cb4b16;
        text-align: center;
        margin: auto;
        margin-bottom: 40px;
        margin-top: 40px;

        max-width: 1800px;
      }

      input {
        margin-right: 10px;
        vertical-align: middle;
      }

      input,
      label {
        line-height: 1.5em;
      }

      @media only screen and (min-width: 1800px) {
        #options {
          position: absolute;
          right: 10%;
          top: 220px;
          width: 400px;
          text-align: left;
        }
      }

      @media only screen and (min-width: 1200px) and (max-width: 1800px) {
        video {
          float: left;
          margin-left: 40px;
          margin-bottom: 40px;
        }
        #options {
          position: absolute;
          top: 200px;
          right: 40px;
          width: 400px;
          text-align: left;
        }

        h1 {
          clear: both;
        }
      }
    </style>
  </head>
  <body>
    <h1 id="header">Don't Touch Your Face</h1>

    <div id="debug-panel">
      <h2>Debug</h2>
      <div>Touching Face: <span id="chance-touching">0%</span></div>
      <div>Not Touching Face: <span id="chance-not-touching">0%</span></div>
    </div>

    <div id="instructions">
      <p>
        Touching your face makes it more likely you'll contract COVID-19! <br />
        Break the habit by letting us honk at you when you touch your face.<br />
        You can run this in the background, but it needs to be in its own window
        rather than a tab.
      </p>

      <p id="safari-warning" hidden="true">
        It looks like you're using Safari! If you're not hearing any audio,
        select the "Safari" menu, then "Settings for This Website". Set the
        "Auto-Play" dropdown to "Allow All Auto-Play"
        <a href="#" id="close-safari" role="button">[x]</a>
      </p>

      <button id="start">Start</button>
    </div>
    <video id="webcam"></video>

    <h1>
      It has been <span id="time">0:00</span> since you last touched your face
    </h1>
    <div id="high-score">
      <span class="celebration">ðŸŽ‰</span>
      Your record is <span id="high-score-time">0:00</span>
      <span class="celebration">ðŸŽ‰</span>
    </div>

    <div>
      Built by <a href="https://twitter.com/lazerwalker">@lazerwalker</a> with
      the
      <a
        href="https://docs.microsoft.com/en-us/azure/cognitive-services/custom-vision-service/getting-started-build-a-classifier?WT.mc_id=example-facetoucher-emwalker"
        >Azure Custom Vision Service</a
      >.

      <p>
        All processing happens in your web browser.<br />Your webcam data does
        not leave your computer.
      </p>
      <p>
        Not working very well? Help improve quality by spending ~2 minutes to
        <a href="https://facetoucherstorage.z5.web.core.windows.net"
          >provide some training data</a
        >.
      </p>
    </div>

    <div id="options">
      <h2>Options</h2>
      <div>
        <h3>When you touch your face:</h3>

        <div>
          <input type="checkbox" id="play-sound" checked />
          <label for="play-sound">Play A Loud Sound</label> <br />

          <input type="checkbox" id="show-alert" />
          <label for="show-alert">Trigger A System Alert</label><br />This will
          bring this window to the foreground, even if it wasn't visible before.
        </div>

        <h3>Sound Effect:</h3>

        <div>
          <input
            type="radio"
            class="sfx"
            id="honk"
            name="sfx"
            value="audio/honk.mp3"
            checked
          />
          <label for="honk">Honk</label>
        </div>

        <div>
          <input
            type="radio"
            class="sfx"
            id="no"
            name="sfx"
            value="audio/no.mp3"
          />
          <label for="no">No</label>
        </div>

        <div>
          <input
            type="radio"
            class="sfx"
            id="error"
            name="sfx"
            value="audio/error.mp3"
          />
          <label for="error">Windows XP Error</label>
        </div>

        <div>
          <input
            type="radio"
            class="sfx"
            id="ohno"
            name="sfx"
            value="audio/ohno.mp3"
          />
          <label for="ohno">Oh No</label>
        </div>
      </div>
    </div>
  </body>
</html>
